{"version":3,"sources":["Profile.tsx","Works.tsx","Links.tsx","WorksDialog.tsx","jsm/shaders/CopyShader.js","jsm/postprocessing/Pass.js","jsm/postprocessing/ShaderPass.js","jsm/postprocessing/MaskPass.js","jsm/postprocessing/EffectComposer.js","jsm/postprocessing/RenderPass.js","jsm/shaders/LuminosityHighPassShader.js","jsm/postprocessing/UnrealBloomPass.js","Content.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Profile","react_default","a","createElement","className","React","Component","Works","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","console","log","height","style","Links","href","WorksDialog","i","DialogTitle","contents","title","DialogContent","src","img","maxWidth","text","Dialog","open","isDialogOpen","onClose","handleClose","content","renderContent","Button","onClick","color","CopyShader","uniforms","tDiffuse","value","opacity","vertexShader","join","fragmentShader","Pass","enabled","needsSwap","clear","renderToScreen","assign","prototype","setSize","render","error","FullScreenQuad","camera","OrthographicCamera","geometry","PlaneBufferGeometry","material","_mesh","Mesh","defineProperty","get","set","renderer","ShaderPass","shader","textureID","undefined","ShaderMaterial","UniformsUtils","clone","defines","fsQuad","create","constructor","writeBuffer","readBuffer","texture","setRenderTarget","autoClearColor","autoClearDepth","autoClearStencil","MaskPass","scene","inverse","writeValue","clearValue","context","getContext","state","buffers","setMask","depth","setLocked","stencil","setTest","setOp","REPLACE","setFunc","ALWAYS","setClear","EQUAL","KEEP","ClearMaskPass","EffectComposer","renderTarget","parameters","minFilter","LinearFilter","magFilter","format","RGBAFormat","stencilBuffer","size","getSize","Vector2","_pixelRatio","getPixelRatio","_width","width","_height","WebGLRenderTarget","name","renderTarget1","renderTarget2","passes","copyPass","clock","Clock","swapBuffers","tmp","addPass","pass","push","insertPass","index","splice","isLastEnabledPass","passIndex","length","deltaTime","getDelta","currentRenderTarget","getRenderTarget","maskActive","il","NOTEQUAL","reset","dispose","effectiveWidth","effectiveHeight","setPixelRatio","pixelRatio","RenderPass","overrideMaterial","clearColor","clearAlpha","clearDepth","oldClearColor","oldClearAlpha","oldAutoClear","autoClear","getClearColor","getHex","getClearAlpha","setClearColor","LuminosityHighPassShader","shaderID","luminosityThreshold","smoothWidth","defaultColor","Color","defaultOpacity","UnrealBloomPass","resolution","strength","radius","threshold","x","y","pars","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","Math","round","resy","renderTargetBright","generateMipmaps","renderTargetHorizonal","renderTargetVertical","highPassShader","highPassUniforms","materialHighPassFilter","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","needsUpdate","bloomTintColors","Vector3","copyShader","copyUniforms","materialCopy","blending","AdditiveBlending","depthTest","depthWrite","transparent","basic","MeshBasicMaterial","copy","map","inputRenderTarget","BlurDirectionX","BlurDirectionY","kernelRadius","KERNEL_RADIUS","SIGMA","colorTexture","texSize","direction","NUM_MIPS","blurTexture1","blurTexture2","blurTexture3","blurTexture4","blurTexture5","dirtTexture","bloomStrength","bloomFactors","bloomRadius","container","workN","mouse","THREE","rime","circleR","titlePad","window","innerWidth","pad","step","params","exposure","bloomThreshold","LAYER","PLANE","BLOOM","Content","_this","handleDialogClose","setState","prevState","dialogContent","workBoxHeight","componentDidMount","init","componentDidUpdate","box","defaultScrollY","scrollY","boxes","document","getElementById","antialias","devicePixelRatio","innerHeight","toneMapping","appendChild","domElement","background","aspect","dist","tan","fov","PI","position","z","load","tex","wrapS","wrapT","repeat","mat","SpriteMaterial","scale","workGroup","boxM","linewidth","boxLines","_i","_boxes","rect","getBoundingClientRect","boxG","vertices","Float32Array","left","top","right","bottom","addAttribute","line","layers","works","Array","worksRect","origin","range","d","dx","dy","floor","pos","Work","animate","lookAt","add","work","update","group","getObject","renderScene","bloomPass","requestAnimationFrame","addEventListener","e","updateProjectionMatrix","preventDefault","clientX","clientY","sqrt","pow","getRadius","expand","shrink","_loop","id","src_Profile_0","src_Works","src_Links","src_WorksDialog","_this2","textureCircle","backCircle","frontCircle","backDiff","defaultRadius","scale_t","setPosition","geo","point2D","getPoints","point3D","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","p","err","return","setFromPoints","obj","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","arc","dr","points","cos","sin","getTextureScale","getCircleScale","mesh","getTextureCircle","getFrontCircle","getBackCircle","min","rotateZ","SCALE_MAX","SCALE_MIN","App","src_Content_0","Boolean","location","hostname","match","ReactDOM","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cce8fb75.chunk.js","sourcesContent":["import React from 'react';\nimport './Profile.css'\n\nclass Profile extends React.Component {\n  render() {\n    return (\n      <div className=\"text\">\n        <div className=\"title\">Profile</div>\n        <div className=\"detail\">\n          <div><b>Nocks_on</b>と申します。<b>のくそん</b>と読みます。</div>\n          <br />\n          <div>好きなこと:\n            <div>ゲーム、VRが好きです。今までの人生で一番好きなゲームは『カービィのエアライド』です。最近OculusQuestを買ってVRを楽しんでします。</div>\n          </div>\n          <br />\n          <div>やったこと: \n            <li>Webアプリ開発</li>\n            <li>短いゲーム開発</li>\n            <li>シェーダなどのビジュアルプログラミング</li>\n            <li>動画編集など</li>\n          </div>\n          <br />\n          <div>言語について:\n            <li>よく使う: C++、JavaScript</li>\n            <li>そこそこ使っている: GLSL</li>\n            <li>使える: Java, Python, Swift, Ruby, PHP, HTML/CSS</li>\n            <li>興味がある: Haskell</li>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Profile;","import React from 'react';\nimport './Profile.css'\n\ninterface WorksProps {\n  height : number\n}\n\nclass Works extends React.Component<WorksProps, {}> {\n  constructor(props : WorksProps) {\n    super(props);\n  }\n  componentDidUpdate() {\n    console.log('works updated!');\n    console.log(this.props.height);\n  }\n  render() {\n    return (\n      <div className=\"text\">\n        <div className=\"title\">Works / Activities</div>\n        <div className=\"detail\" style={{height: this.props.height}}>\n\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Works;","import React from 'react';\nimport './Profile.css'\n\nclass Links extends React.Component {\n  render() {\n    return (\n      <div className=\"text\">\n        <div className=\"title\">Links</div>\n        <div className=\"detail\">\n          <li>Github: <a href=\"https://github.com/VacuumedOne\">VacuumedOne</a></li>\n          <li>Twitter: <a href=\"https://twitter.com/nocks_on\">のくそん</a></li>\n          <li>Shadertoy: <a href=\"https://www.shadertoy.com/profile?show=shaders\">Nocks_on</a></li>\n          <li>OpenProcessing: <a href=\"https://www.openprocessing.org/user/181939\">Nocks_on</a></li>\n          <li>はてなブログ: </li>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Links;","import React from 'react';\n\nimport { Dialog, DialogTitle, DialogContent, Button } from '@material-ui/core';\n\ninterface WDProps {\n  isDialogOpen : boolean,\n  content : number,\n  handleClose() : void\n}\n\nclass WorksDialog extends React.Component<WDProps> {\n  constructor(props : WDProps) {\n    super(props);\n  }\n  renderContent(i : number) {\n    return (\n      <div>\n        <DialogTitle>{contents[i].title}</DialogTitle>\n        <DialogContent>\n          <img src={contents[i].img} style={{maxWidth: 500}}></img>\n          <div>{contents[i].text}</div>\n        </DialogContent>\n      </div>\n    )\n  }\n  render() {\n    return (\n      <Dialog open={this.props.isDialogOpen} onClose={this.props.handleClose}>\n        {(this.props.content !== -1) ? this.renderContent(this.props.content) : null}\n        <Button onClick={this.props.handleClose} color=\"primary\">Close</Button>\n      </Dialog>\n    )\n  }\n}\n\ninterface ContentText {\n  title : string,\n  img : string,\n  text : JSX.Element\n}\n\nconst contents : ContentText[] = [\n  {\n    title : 'RGB',\n    img : 'images/work0.png',\n    text : (<div>JavaScript始めたての頃に3時間jamで制作した単発ゲームです。素のHTMLCanvasで作られています。<a href=\"https://vacuumedone.github.io/RGB/\">こちらより</a></div>)\n  },\n  {\n    title : 'つばくログ',\n    img : 'images/work1.png',\n    text : (<div>所属していたボート部向けに制作した「記録とフィードバックを促すアプリ」です。制作には大学3年の秋から大学4年の春までかかり、長い期間の個人開発となりました。Vue.js+Node.js製です。TypeScriptを使っていなかったので辛かった...。外部に公開していません。</div>)\n  },\n  {\n    title : 'GroP',\n    img : 'images/work2.png',\n    text : (<div>Webアプリ開発の授業の中で5人チームで作ったアプリです。自分にとっては初めてのチーム開発でした。タスクを「木を育てる」ことに重ね合わせて視覚的に楽しそうにしたTODOアプリです。</div>)\n  },\n  {\n    title : 'Transmissions',\n    img : 'images/work3.png',\n    text : (<div>Shaderが魔法みたいだなぁと憧れて作ったものです。GLSLで書いてshadertoyに投稿しました。レイマーチングを使えば無限の奥行きをいい感じに見せることができて楽しいですね。距離関数やフォールディングなどの技巧が必要で、まだまだ勉強の必要を感じます。<a href=\"https://www.shadertoy.com/view/3l2SRh\">こちらから</a></div>)\n  },\n  {\n    title: 'Logo Animation',\n    img: 'images/work4.gif',\n    text: (<div>anime.jsを使えばCSSアニメーションを簡単にリッチにすることができる。これでボタンとか作ってみたい。ライブラリとしても軽い部類だと思うので、いい感じ。複雑なバスを打つのもいいですが、弧と直線の組み合わせでそれなりに見やすいデザインができて良い。<a href=\"https://vacuumedone.github.io/logo-animation/\">こちらから</a></div>)\n  }\n] \n\nexport default WorksDialog;","/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\n\n\nvar CopyShader = {\n\n\tuniforms: {\n\n\t\t\"tDiffuse\": { value: null },\n\t\t\"opacity\":  { value: 1.0 }\n\n\t},\n\n\tvertexShader: [\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\t\"vUv = uv;\",\n\t\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\n\t\t\"uniform float opacity;\",\n\n\t\t\"uniform sampler2D tDiffuse;\",\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\t\"vec4 texel = texture2D( tDiffuse, vUv );\",\n\t\t\t\"gl_FragColor = opacity * texel;\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" )\n\n};\n\nexport { CopyShader };\n","import {\n\tOrthographicCamera,\n\tPlaneBufferGeometry,\n\tMesh\n} from \"three\";\n\nfunction Pass() {\n\n\t// if set to true, the pass is processed by the composer\n\tthis.enabled = true;\n\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\tthis.needsSwap = true;\n\n\t// if set to true, the pass clears its buffer before rendering\n\tthis.clear = false;\n\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\tthis.renderToScreen = false;\n\n}\n\nObject.assign( Pass.prototype, {\n\n\tsetSize: function ( /* width, height */ ) {},\n\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n} );\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nPass.FullScreenQuad = ( function () {\n\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\n\n\tvar FullScreenQuad = function ( material ) {\n\n\t\tthis._mesh = new Mesh( geometry, material );\n\n\t};\n\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\n\n\t\tget: function () {\n\n\t\t\treturn this._mesh.material;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._mesh.material = value;\n\n\t\t}\n\n\t} );\n\n\tObject.assign( FullScreenQuad.prototype, {\n\n\t\trender: function ( renderer ) {\n\n\t\t\trenderer.render( this._mesh, camera );\n\n\t\t}\n\n\t} );\n\n\treturn FullScreenQuad;\n\n} )();\n\nexport { Pass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nimport {\n\tShaderMaterial,\n\tUniformsUtils\n} from \"three\";\nimport { Pass } from \"../postprocessing/Pass.js\";\n\nvar ShaderPass = function ( shader, textureID ) {\n\n\tPass.call( this );\n\n\tthis.textureID = ( textureID !== undefined ) ? textureID : \"tDiffuse\";\n\n\tif ( shader instanceof ShaderMaterial ) {\n\n\t\tthis.uniforms = shader.uniforms;\n\n\t\tthis.material = shader;\n\n\t} else if ( shader ) {\n\n\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\tthis.material = new ShaderMaterial( {\n\n\t\t\tdefines: Object.assign( {}, shader.defines ),\n\t\t\tuniforms: this.uniforms,\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t} );\n\n\t}\n\n\tthis.fsQuad = new Pass.FullScreenQuad( this.material );\n\n};\n\nShaderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: ShaderPass,\n\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\tthis.fsQuad.material = this.material;\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( writeBuffer );\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t}\n\n} );\n\nexport { ShaderPass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\n\nimport { Pass } from \"../postprocessing/Pass.js\";\n\nvar MaskPass = function ( scene, camera ) {\n\n\tPass.call( this );\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.clear = true;\n\tthis.needsSwap = false;\n\n\tthis.inverse = false;\n\n};\n\nMaskPass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: MaskPass,\n\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tvar context = renderer.getContext();\n\t\tvar state = renderer.state;\n\n\t\t// don't update color or depth\n\n\t\tstate.buffers.color.setMask( false );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\t// lock buffers\n\n\t\tstate.buffers.color.setLocked( true );\n\t\tstate.buffers.depth.setLocked( true );\n\n\t\t// set up stencil\n\n\t\tvar writeValue, clearValue;\n\n\t\tif ( this.inverse ) {\n\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\n\t\t} else {\n\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\n\t\t}\n\n\t\tstate.buffers.stencil.setTest( true );\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\n\t\tstate.buffers.stencil.setClear( clearValue );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t\t// draw into the stencil buffer\n\n\t\trenderer.setRenderTarget( readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\trenderer.setRenderTarget( writeBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\t// unlock color and depth buffer for subsequent rendering\n\n\t\tstate.buffers.color.setLocked( false );\n\t\tstate.buffers.depth.setLocked( false );\n\n\t\t// only render where stencil is set to 1\n\n\t\tstate.buffers.stencil.setLocked( false );\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t}\n\n} );\n\n\nvar ClearMaskPass = function () {\n\n\tPass.call( this );\n\n\tthis.needsSwap = false;\n\n};\n\nClearMaskPass.prototype = Object.create( Pass.prototype );\n\nObject.assign( ClearMaskPass.prototype, {\n\n\trender: function ( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\trenderer.state.buffers.stencil.setLocked( false );\n\t\trenderer.state.buffers.stencil.setTest( false );\n\n\t}\n\n} );\n\nexport { MaskPass, ClearMaskPass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nimport {\n\tClock,\n\tLinearFilter,\n\tMesh,\n\tOrthographicCamera,\n\tPlaneBufferGeometry,\n\tRGBAFormat,\n\tVector2,\n\tWebGLRenderTarget\n} from \"three\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nimport { ShaderPass } from \"../postprocessing/ShaderPass.js\";\nimport { MaskPass } from \"../postprocessing/MaskPass.js\";\nimport { ClearMaskPass } from \"../postprocessing/MaskPass.js\";\n\nvar EffectComposer = function ( renderer, renderTarget ) {\n\n\tthis.renderer = renderer;\n\n\tif ( renderTarget === undefined ) {\n\n\t\tvar parameters = {\n\t\t\tminFilter: LinearFilter,\n\t\t\tmagFilter: LinearFilter,\n\t\t\tformat: RGBAFormat,\n\t\t\tstencilBuffer: false\n\t\t};\n\n\t\tvar size = renderer.getSize( new Vector2() );\n\t\tthis._pixelRatio = renderer.getPixelRatio();\n\t\tthis._width = size.width;\n\t\tthis._height = size.height;\n\n\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\n\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\n\t} else {\n\n\t\tthis._pixelRatio = 1;\n\t\tthis._width = renderTarget.width;\n\t\tthis._height = renderTarget.height;\n\n\t}\n\n\tthis.renderTarget1 = renderTarget;\n\tthis.renderTarget2 = renderTarget.clone();\n\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\tthis.writeBuffer = this.renderTarget1;\n\tthis.readBuffer = this.renderTarget2;\n\n\tthis.renderToScreen = true;\n\n\tthis.passes = [];\n\n\t// dependencies\n\n\tif ( CopyShader === undefined ) {\n\n\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\n\n\t}\n\n\tif ( ShaderPass === undefined ) {\n\n\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\n\n\t}\n\n\tthis.copyPass = new ShaderPass( CopyShader );\n\n\tthis.clock = new Clock();\n\n};\n\nObject.assign( EffectComposer.prototype, {\n\n\tswapBuffers: function () {\n\n\t\tvar tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t},\n\n\taddPass: function ( pass ) {\n\n\t\tthis.passes.push( pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t},\n\n\tinsertPass: function ( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\n\t},\n\n\tisLastEnabledPass: function ( passIndex ) {\n\n\t\tfor ( var i = passIndex + 1; i < this.passes.length; i ++ ) {\n\n\t\t\tif ( this.passes[ i ].enabled ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\trender: function ( deltaTime ) {\n\n\t\t// deltaTime value is in seconds\n\n\t\tif ( deltaTime === undefined ) {\n\n\t\t\tdeltaTime = this.clock.getDelta();\n\n\t\t}\n\n\t\tvar currentRenderTarget = this.renderer.getRenderTarget();\n\n\t\tvar maskActive = false;\n\n\t\tvar pass, i, il = this.passes.length;\n\n\t\tfor ( i = 0; i < il; i ++ ) {\n\n\t\t\tpass = this.passes[ i ];\n\n\t\t\tif ( pass.enabled === false ) continue;\n\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tvar context = this.renderer.getContext();\n\t\t\t\t\tvar stencil = this.renderer.state.buffers.stencil;\n\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\n\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( MaskPass !== undefined ) {\n\n\t\t\t\tif ( pass instanceof MaskPass ) {\n\n\t\t\t\t\tmaskActive = true;\n\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\n\n\t\t\t\t\tmaskActive = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n\t},\n\n\treset: function ( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tvar size = this.renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t},\n\n\tsetSize: function ( width, height ) {\n\n\t\tthis._width = width;\n\t\tthis._height = height;\n\n\t\tvar effectiveWidth = this._width * this._pixelRatio;\n\t\tvar effectiveHeight = this._height * this._pixelRatio;\n\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\n\n\t\tfor ( var i = 0; i < this.passes.length; i ++ ) {\n\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\n\n\t\t}\n\n\t},\n\n\tsetPixelRatio: function ( pixelRatio ) {\n\n\t\tthis._pixelRatio = pixelRatio;\n\n\t\tthis.setSize( this._width, this._height );\n\n\t}\n\n} );\n\n\nvar Pass = function () {\n\n\t// if set to true, the pass is processed by the composer\n\tthis.enabled = true;\n\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\tthis.needsSwap = true;\n\n\t// if set to true, the pass clears its buffer before rendering\n\tthis.clear = false;\n\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\tthis.renderToScreen = false;\n\n};\n\nObject.assign( Pass.prototype, {\n\n\tsetSize: function ( /* width, height */ ) {},\n\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n} );\n\n// Helper for passes that need to fill the viewport with a single quad.\nPass.FullScreenQuad = ( function () {\n\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\n\n\tvar FullScreenQuad = function ( material ) {\n\n\t\tthis._mesh = new Mesh( geometry, material );\n\n\t};\n\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\n\n\t\tget: function () {\n\n\t\t\treturn this._mesh.material;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._mesh.material = value;\n\n\t\t}\n\n\t} );\n\n\tObject.assign( FullScreenQuad.prototype, {\n\n\t\trender: function ( renderer ) {\n\n\t\t\trenderer.render( this._mesh, camera );\n\n\t\t}\n\n\t} );\n\n\treturn FullScreenQuad;\n\n} )();\n\nexport { EffectComposer, Pass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\n\nimport { Pass } from \"../postprocessing/Pass.js\";\n\nvar RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\tPass.call( this );\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.overrideMaterial = overrideMaterial;\n\n\tthis.clearColor = clearColor;\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\tthis.clear = true;\n\tthis.clearDepth = false;\n\tthis.needsSwap = false;\n\n};\n\nRenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: RenderPass,\n\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tvar oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\tvar oldClearColor, oldClearAlpha;\n\n\t\tif ( this.clearColor ) {\n\n\t\t\toldClearColor = renderer.getClearColor().getHex();\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tthis.scene.overrideMaterial = null;\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n} );\n\nexport { RenderPass };\n","/**\n * @author bhouston / http://clara.io/\n *\n * Luminosity\n * http://en.wikipedia.org/wiki/Luminosity\n */\n\nimport {\n\tColor\n} from \"three\";\n\nvar LuminosityHighPassShader = {\n\n\tshaderID: \"luminosityHighPass\",\n\n\tuniforms: {\n\n\t\t\"tDiffuse\": { value: null },\n\t\t\"luminosityThreshold\": { value: 1.0 },\n\t\t\"smoothWidth\": { value: 1.0 },\n\t\t\"defaultColor\": { value: new Color( 0x000000 ) },\n\t\t\"defaultOpacity\": { value: 0.0 }\n\n\t},\n\n\tvertexShader: [\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\t\"vUv = uv;\",\n\n\t\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"}\"\n\n\t].join(\"\\n\"),\n\n\tfragmentShader: [\n\n\t\t\"uniform sampler2D tDiffuse;\",\n\t\t\"uniform vec3 defaultColor;\",\n\t\t\"uniform float defaultOpacity;\",\n\t\t\"uniform float luminosityThreshold;\",\n\t\t\"uniform float smoothWidth;\",\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\t\"vec4 texel = texture2D( tDiffuse, vUv );\",\n\n\t\t\t\"vec3 luma = vec3( 0.299, 0.587, 0.114 );\",\n\n\t\t\t\"float v = dot( texel.xyz, luma );\",\n\n\t\t\t\"vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\",\n\n\t\t\t\"float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\",\n\n\t\t\t\"gl_FragColor = mix( outputColor, texel, alpha );\",\n\n\t\t\"}\"\n\n\t].join(\"\\n\")\n\n};\n\nexport { LuminosityHighPassShader };\n","/**\n * @author spidersharma / http://eduperiment.com/\n *\n * Inspired from Unreal Engine\n * https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\n */\n\nimport {\n\tAdditiveBlending,\n\tColor,\n\tLinearFilter,\n\tMeshBasicMaterial,\n\tRGBAFormat,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector2,\n\tVector3,\n\tWebGLRenderTarget\n} from \"three\";\nimport { Pass } from \"../postprocessing/Pass.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nimport { LuminosityHighPassShader } from \"../shaders/LuminosityHighPassShader.js\";\n\nvar UnrealBloomPass = function ( resolution, strength, radius, threshold ) {\n\n\tPass.call( this );\n\n\tthis.strength = ( strength !== undefined ) ? strength : 1;\n\tthis.radius = radius;\n\tthis.threshold = threshold;\n\tthis.resolution = ( resolution !== undefined ) ? new Vector2( resolution.x, resolution.y ) : new Vector2( 256, 256 );\n\n\t// create color only once here, reuse it later inside the render function\n\tthis.clearColor = new Color( 0, 0, 0 );\n\n\t// render targets\n\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\tthis.renderTargetsHorizontal = [];\n\tthis.renderTargetsVertical = [];\n\tthis.nMips = 5;\n\tvar resx = Math.round( this.resolution.x / 2 );\n\tvar resy = Math.round( this.resolution.y / 2 );\n\n\tthis.renderTargetBright = new WebGLRenderTarget( resx, resy, pars );\n\tthis.renderTargetBright.texture.name = \"UnrealBloomPass.bright\";\n\tthis.renderTargetBright.texture.generateMipmaps = false;\n\n\tfor ( var i = 0; i < this.nMips; i ++ ) {\n\n\t\tvar renderTargetHorizonal = new WebGLRenderTarget( resx, resy, pars );\n\n\t\trenderTargetHorizonal.texture.name = \"UnrealBloomPass.h\" + i;\n\t\trenderTargetHorizonal.texture.generateMipmaps = false;\n\n\t\tthis.renderTargetsHorizontal.push( renderTargetHorizonal );\n\n\t\tvar renderTargetVertical = new WebGLRenderTarget( resx, resy, pars );\n\n\t\trenderTargetVertical.texture.name = \"UnrealBloomPass.v\" + i;\n\t\trenderTargetVertical.texture.generateMipmaps = false;\n\n\t\tthis.renderTargetsVertical.push( renderTargetVertical );\n\n\t\tresx = Math.round( resx / 2 );\n\n\t\tresy = Math.round( resy / 2 );\n\n\t}\n\n\t// luminosity high pass material\n\n\tif ( LuminosityHighPassShader === undefined )\n\t\tconsole.error( \"UnrealBloomPass relies on LuminosityHighPassShader\" );\n\n\tvar highPassShader = LuminosityHighPassShader;\n\tthis.highPassUniforms = UniformsUtils.clone( highPassShader.uniforms );\n\n\tthis.highPassUniforms[ \"luminosityThreshold\" ].value = threshold;\n\tthis.highPassUniforms[ \"smoothWidth\" ].value = 0.01;\n\n\tthis.materialHighPassFilter = new ShaderMaterial( {\n\t\tuniforms: this.highPassUniforms,\n\t\tvertexShader: highPassShader.vertexShader,\n\t\tfragmentShader: highPassShader.fragmentShader,\n\t\tdefines: {}\n\t} );\n\n\t// Gaussian Blur Materials\n\tthis.separableBlurMaterials = [];\n\tvar kernelSizeArray = [ 3, 5, 7, 9, 11 ];\n\tvar resx = Math.round( this.resolution.x / 2 );\n\tvar resy = Math.round( this.resolution.y / 2 );\n\n\tfor ( var i = 0; i < this.nMips; i ++ ) {\n\n\t\tthis.separableBlurMaterials.push( this.getSeperableBlurMaterial( kernelSizeArray[ i ] ) );\n\n\t\tthis.separableBlurMaterials[ i ].uniforms[ \"texSize\" ].value = new Vector2( resx, resy );\n\n\t\tresx = Math.round( resx / 2 );\n\n\t\tresy = Math.round( resy / 2 );\n\n\t}\n\n\t// Composite material\n\tthis.compositeMaterial = this.getCompositeMaterial( this.nMips );\n\tthis.compositeMaterial.uniforms[ \"blurTexture1\" ].value = this.renderTargetsVertical[ 0 ].texture;\n\tthis.compositeMaterial.uniforms[ \"blurTexture2\" ].value = this.renderTargetsVertical[ 1 ].texture;\n\tthis.compositeMaterial.uniforms[ \"blurTexture3\" ].value = this.renderTargetsVertical[ 2 ].texture;\n\tthis.compositeMaterial.uniforms[ \"blurTexture4\" ].value = this.renderTargetsVertical[ 3 ].texture;\n\tthis.compositeMaterial.uniforms[ \"blurTexture5\" ].value = this.renderTargetsVertical[ 4 ].texture;\n\tthis.compositeMaterial.uniforms[ \"bloomStrength\" ].value = strength;\n\tthis.compositeMaterial.uniforms[ \"bloomRadius\" ].value = 0.1;\n\tthis.compositeMaterial.needsUpdate = true;\n\n\tvar bloomFactors = [ 1.0, 0.8, 0.6, 0.4, 0.2 ];\n\tthis.compositeMaterial.uniforms[ \"bloomFactors\" ].value = bloomFactors;\n\tthis.bloomTintColors = [ new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ),\n\t\t\t\t\t\t\t new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ) ];\n\tthis.compositeMaterial.uniforms[ \"bloomTintColors\" ].value = this.bloomTintColors;\n\n\t// copy material\n\tif ( CopyShader === undefined ) {\n\n\t\tconsole.error( \"UnrealBloomPass relies on CopyShader\" );\n\n\t}\n\n\tvar copyShader = CopyShader;\n\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\n\tthis.copyUniforms[ \"opacity\" ].value = 1.0;\n\n\tthis.materialCopy = new ShaderMaterial( {\n\t\tuniforms: this.copyUniforms,\n\t\tvertexShader: copyShader.vertexShader,\n\t\tfragmentShader: copyShader.fragmentShader,\n\t\tblending: AdditiveBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false,\n\t\ttransparent: true\n\t} );\n\n\tthis.enabled = true;\n\tthis.needsSwap = false;\n\n\tthis.oldClearColor = new Color();\n\tthis.oldClearAlpha = 1;\n\n\tthis.basic = new MeshBasicMaterial();\n\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\n\n};\n\nUnrealBloomPass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: UnrealBloomPass,\n\n\tdispose: function () {\n\n\t\tfor ( var i = 0; i < this.renderTargetsHorizontal.length; i ++ ) {\n\n\t\t\tthis.renderTargetsHorizontal[ i ].dispose();\n\n\t\t}\n\n\t\tfor ( var i = 0; i < this.renderTargetsVertical.length; i ++ ) {\n\n\t\t\tthis.renderTargetsVertical[ i ].dispose();\n\n\t\t}\n\n\t\tthis.renderTargetBright.dispose();\n\n\t},\n\n\tsetSize: function ( width, height ) {\n\n\t\tvar resx = Math.round( width / 2 );\n\t\tvar resy = Math.round( height / 2 );\n\n\t\tthis.renderTargetBright.setSize( resx, resy );\n\n\t\tfor ( var i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tthis.renderTargetsHorizontal[ i ].setSize( resx, resy );\n\t\t\tthis.renderTargetsVertical[ i ].setSize( resx, resy );\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"texSize\" ].value = new Vector2( resx, resy );\n\n\t\t\tresx = Math.round( resx / 2 );\n\t\t\tresy = Math.round( resy / 2 );\n\n\t\t}\n\n\t},\n\n\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\n\n\t\tthis.oldClearColor.copy( renderer.getClearColor() );\n\t\tthis.oldClearAlpha = renderer.getClearAlpha();\n\t\tvar oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\trenderer.setClearColor( this.clearColor, 0 );\n\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( false );\n\n\t\t// Render input to screen\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\tthis.fsQuad.material = this.basic;\n\t\t\tthis.basic.map = readBuffer.texture;\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t\t// 1. Extract Bright Areas\n\n\t\tthis.highPassUniforms[ \"tDiffuse\" ].value = readBuffer.texture;\n\t\tthis.highPassUniforms[ \"luminosityThreshold\" ].value = this.threshold;\n\t\tthis.fsQuad.material = this.materialHighPassFilter;\n\n\t\trenderer.setRenderTarget( this.renderTargetBright );\n\t\trenderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t\t// 2. Blur All the mips progressively\n\n\t\tvar inputRenderTarget = this.renderTargetBright;\n\n\t\tfor ( var i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tthis.fsQuad.material = this.separableBlurMaterials[ i ];\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"colorTexture\" ].value = inputRenderTarget.texture;\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"direction\" ].value = UnrealBloomPass.BlurDirectionX;\n\t\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ i ] );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"colorTexture\" ].value = this.renderTargetsHorizontal[ i ].texture;\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"direction\" ].value = UnrealBloomPass.BlurDirectionY;\n\t\t\trenderer.setRenderTarget( this.renderTargetsVertical[ i ] );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t\tinputRenderTarget = this.renderTargetsVertical[ i ];\n\n\t\t}\n\n\t\t// Composite All the mips\n\n\t\tthis.fsQuad.material = this.compositeMaterial;\n\t\tthis.compositeMaterial.uniforms[ \"bloomStrength\" ].value = this.strength;\n\t\tthis.compositeMaterial.uniforms[ \"bloomRadius\" ].value = this.radius;\n\t\tthis.compositeMaterial.uniforms[ \"bloomTintColors\" ].value = this.bloomTintColors;\n\n\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ 0 ] );\n\t\trenderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t\t// Blend it additively over the input texture\n\n\t\tthis.fsQuad.material = this.materialCopy;\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.renderTargetsHorizontal[ 0 ].texture;\n\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( true );\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( readBuffer );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t\t// Restore renderer settings\n\n\t\trenderer.setClearColor( this.oldClearColor, this.oldClearAlpha );\n\t\trenderer.autoClear = oldAutoClear;\n\n\t},\n\n\tgetSeperableBlurMaterial: function ( kernelRadius ) {\n\n\t\treturn new ShaderMaterial( {\n\n\t\t\tdefines: {\n\t\t\t\t\"KERNEL_RADIUS\": kernelRadius,\n\t\t\t\t\"SIGMA\": kernelRadius\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t\"colorTexture\": { value: null },\n\t\t\t\t\"texSize\": { value: new Vector2( 0.5, 0.5 ) },\n\t\t\t\t\"direction\": { value: new Vector2( 0.5, 0.5 ) }\n\t\t\t},\n\n\t\t\tvertexShader:\n\t\t\t\t\"varying vec2 vUv;\\n\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvUv = uv;\\n\\\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\n\t\t\t\t}\",\n\n\t\t\tfragmentShader:\n\t\t\t\t\"#include <common>\\\n\t\t\t\tvarying vec2 vUv;\\n\\\n\t\t\t\tuniform sampler2D colorTexture;\\n\\\n\t\t\t\tuniform vec2 texSize;\\\n\t\t\t\tuniform vec2 direction;\\\n\t\t\t\t\\\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\\\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\\\n\t\t\t\t}\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\\\n\t\t\t\t\tfloat fSigma = float(SIGMA);\\\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\\\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\\\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\\\n\t\t\t\t\t\tfloat x = float(i);\\\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\\\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\\\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\\\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\\\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\\\n\t\t\t\t\t\tweightSum += 2.0 * w;\\\n\t\t\t\t\t}\\\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n\\\n\t\t\t\t}\"\n\t\t} );\n\n\t},\n\n\tgetCompositeMaterial: function ( nMips ) {\n\n\t\treturn new ShaderMaterial( {\n\n\t\t\tdefines: {\n\t\t\t\t\"NUM_MIPS\": nMips\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t\"blurTexture1\": { value: null },\n\t\t\t\t\"blurTexture2\": { value: null },\n\t\t\t\t\"blurTexture3\": { value: null },\n\t\t\t\t\"blurTexture4\": { value: null },\n\t\t\t\t\"blurTexture5\": { value: null },\n\t\t\t\t\"dirtTexture\": { value: null },\n\t\t\t\t\"bloomStrength\": { value: 1.0 },\n\t\t\t\t\"bloomFactors\": { value: null },\n\t\t\t\t\"bloomTintColors\": { value: null },\n\t\t\t\t\"bloomRadius\": { value: 0.0 }\n\t\t\t},\n\n\t\t\tvertexShader:\n\t\t\t\t\"varying vec2 vUv;\\n\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvUv = uv;\\n\\\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\n\t\t\t\t}\",\n\n\t\t\tfragmentShader:\n\t\t\t\t\"varying vec2 vUv;\\\n\t\t\t\tuniform sampler2D blurTexture1;\\\n\t\t\t\tuniform sampler2D blurTexture2;\\\n\t\t\t\tuniform sampler2D blurTexture3;\\\n\t\t\t\tuniform sampler2D blurTexture4;\\\n\t\t\t\tuniform sampler2D blurTexture5;\\\n\t\t\t\tuniform sampler2D dirtTexture;\\\n\t\t\t\tuniform float bloomStrength;\\\n\t\t\t\tuniform float bloomRadius;\\\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\\\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\\\n\t\t\t\t\\\n\t\t\t\tfloat lerpBloomFactor(const in float factor) { \\\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\\\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\\\n\t\t\t\t}\\\n\t\t\t\t\\\n\t\t\t\tvoid main() {\\\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \\\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \\\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \\\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \\\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\\\n\t\t\t\t}\"\n\t\t} );\n\n\t}\n\n} );\n\nUnrealBloomPass.BlurDirectionX = new Vector2( 1.0, 0.0 );\nUnrealBloomPass.BlurDirectionY = new Vector2( 0.0, 1.0 );\n\nexport { UnrealBloomPass };\n","import React from 'react';\nimport Profile from './Profile';\nimport Works from './Works';\nimport Links from './Links';\nimport WorksDialog from './WorksDialog'\nimport './Content.css';\n\nimport * as THREE from 'three';\n\nimport { EffectComposer } from './jsm/postprocessing/EffectComposer.js';\nimport { RenderPass } from './jsm/postprocessing/RenderPass.js';\nimport { UnrealBloomPass } from './jsm/postprocessing/UnrealBloomPass.js';\n\nimport { SpriteMaterial } from 'three';\n\ninterface ContentState {\n  isDialogOpen : boolean,\n  dialogContent : number,\n  workBoxHeight : number\n}\n\ninterface BloomParam {\n  exposure: number,\n  bloomStrength: number,\n  bloomThreshold: number,\n  bloomRadius: number\n}\n\n\n///////////////////////////////\n// for updating parameter\nlet workN : number = 5;\n///////////////////////////////\n\nlet container : HTMLElement | null;\nlet scene : THREE.Scene;\n// let pointLight : THREE.PointLight;\nlet renderer : THREE.WebGLRenderer;\nlet camera : THREE.PerspectiveCamera;\nlet composer : EffectComposer;\nlet mouse : THREE.Vector3 = new THREE.Vector3(0,0,0);\n\n//color\nlet rime : number = 0x00FF00;\n\n//wonderLine\nlet wNum : number = 5;\nlet wonderStart : boolean = false;\n\n//works\nlet circleR : number = 100;\nlet titlePad : number = (window.innerWidth <= 600) ? 150 : 75; //[Works/Activities]の文字分のパディング\nlet pad : number = circleR + 50;\nlet step : number = 300;\n\n\nlet params : BloomParam = {\n  exposure: 1,\n  bloomStrength: 2,\n  bloomThreshold: 0,\n  bloomRadius: 0\n};\n\nlet LAYER = {\n  PLANE: 0,\n  BLOOM: 1\n};\n\nclass Content extends React.Component<{}, ContentState> {\n  constructor() {\n    super({});\n    this.state = {\n      isDialogOpen : false,\n      dialogContent : -1,\n      workBoxHeight : 500\n    }\n    // this.handleDialogClose = this.handleDialogClose.bind(this);\n  }\n  render() {\n    return (\n      <div id=\"content\">\n        <div className=\"layer1\">\n          <div id=\"background\"></div>\n        </div>\n        <div className=\"layer2\">\n          <div className=\"header\">Portfolio / Nocks_on</div>\n          <div className=\"body\">\n            <div className=\"item\" id=\"box1\">\n              <Profile />\n            </div>\n            <div className=\"item\" id=\"box2\">\n              <Works height={this.state.workBoxHeight}/>\n            </div>\n            <div className=\"item\" id=\"box3\">\n              <Links />\n            </div>\n          </div>\n          <WorksDialog isDialogOpen={this.state.isDialogOpen} content={this.state.dialogContent} handleClose={this.handleDialogClose}/>\n        </div>\n      </div>\n    )\n  }\n  handleDialogClose = () => {\n    this.setState((prevState) => {\n      return {\n        isDialogOpen : false,\n        dialogContent : -1,\n        workBoxHeight : prevState.workBoxHeight\n      };\n    });\n  }\n  componentDidMount = () => {\n    this.init();\n  }\n  componentDidUpdate = () => {\n    // this.init();\n  }\n  init = () => {\n    let defaultScrollY = window.scrollY;\n    let boxes : HTMLElement[] = [];\n    let box : HTMLElement | null;\n    for (let i = 1; i <= 3; i++) {\n      box = document.getElementById('box' + i);\n      if (box !== null) {\n        boxes.push(box);\n      }\n    }\n    if (boxes.length !== 3) {\n      return;\n    }\n\n    container = document.getElementById('background');\n    if (container == null) {\n      return;\n    }\n\n    //Renderer\n    renderer = new THREE.WebGLRenderer( {antialias: true} );\n    renderer.setPixelRatio( window.devicePixelRatio );\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.toneMapping = THREE.ReinhardToneMapping;\n    renderer.autoClear = false;\n    container.appendChild( renderer.domElement );\n\n    //Camera\n    let fov : number = 60;\n    let aspect : number = window.innerWidth / window.innerHeight;\n    let dist : number = (window.innerHeight/2) / Math.tan((fov/2)*Math.PI/180);\n    camera = new THREE.PerspectiveCamera(fov, aspect, 1, 1000);\n    camera.position.z = dist;\n\n    //Background Plane\n    let background : THREE.Sprite | null;\n    {\n      new THREE.TextureLoader().load('texture/background.png', (tex) => {\n        tex.wrapS = THREE.RepeatWrapping;\n        tex.wrapT = THREE.RepeatWrapping;\n        tex.repeat.set(10, 10);\n        let mat = new SpriteMaterial({\n          map: tex\n        });\n        background = new THREE.Sprite(mat);\n        background.scale.x = 10000;\n        background.scale.y = 10000;\n        background.position.z = -100;\n      });\n    }\n\n    //Boxes\n    let boxM : THREE.LineBasicMaterial = new THREE.LineBasicMaterial( {color: rime, linewidth: 10}, );\n    let boxLines : THREE.Line[] = [];\n    for (let box of boxes) {\n      let rect : ClientRect | DOMRect = box.getBoundingClientRect();\n      let boxG : THREE.BufferGeometry = new THREE.BufferGeometry();\n      let vertices : Float32Array = new Float32Array([\n        rect.left, -rect.top, 0,\n        rect.right, -rect.top, 0,\n        rect.right, -rect.bottom, 0,\n        rect.left, -rect.bottom, 0,\n        rect.left, -rect.top, 0,\n      ]);\n      boxG.addAttribute('position', new THREE.BufferAttribute(vertices, 3));\n      let line : THREE.Line = new THREE.Line(boxG, boxM);\n      line.position.x = -window.innerWidth/2;\n      line.position.y = window.innerHeight/2 - defaultScrollY;\n      line.layers.set(LAYER.PLANE);\n      boxLines.push(line);\n    }\n\n    //Works\n    let workGroup : THREE.Object3D;\n    let works : (Work | undefined)[] = new Array(workN);\n    let worksRect : ClientRect | DOMRect = boxes[1].getBoundingClientRect();\n    let origin : THREE.Vector3 = new THREE.Vector3(\n      -window.innerWidth/2 + worksRect.left + pad,\n      window.innerHeight/2 - worksRect.top - defaultScrollY - pad - titlePad,\n      0);\n    let range : number = worksRect.width - 2 * pad;\n    \n    for(let i = 0; i < workN; i++) {\n      let d : number = i * step;\n      let dx : number = (d % range);\n      let dy : number = i * 2 * circleR + Math.floor(d / range) * circleR;\n      let pos : THREE.Vector3 = new THREE.Vector3(origin.x + dx, origin.y - dy, 0);\n      works[i] = new Work('texture/work' + i + '.png', pos, circleR, rime);\n    }\n    this.setState((prevState) => {\n      return {\n        isDialogOpen : prevState.isDialogOpen,\n        workBoxHeight : (workN-1) * 2 * circleR + Math.floor((workN-1) * step / range) * circleR + circleR + pad\n      };\n    });\n\n    //wonder\n    // let w : wonderLine[] = [];\n    // for (let i = 0; i < wNum; i++) {\n    //   w.push(new wonderLine(new THREE.Vector2(0, 0), rime));\n    // }\n\n    // let spriteGroup : THREE.Group = new THREE.Group();\n    // let sprite1 : THREE.Sprite = new THREE.Sprite( new THREE.SpriteMaterial( {color: '#69f'} ));\n    // sprite1.scale.set(100, 100, 1);\n    // let sprite2 : THREE.Sprite = new THREE.Sprite( new THREE.SpriteMaterial( {color: '#69f'} ));\n    // sprite2.scale.set(200, 100, 1);\n    // sprite2.position.set(150, 150, 0);\n    // let g : THREE.Object3D = new THREE.Object3D();\n    // let sprite3 : THREE.Sprite = new THREE.Sprite( new THREE.SpriteMaterial( {color: '#69f'} ));\n    // sprite3.scale.set(50, 200, 1);\n    // sprite3.position.set(-150, -200, 0);\n    // spriteGroup.add(sprite1);\n    // spriteGroup.add(sprite2);\n    // g.add(sprite3);\n    // spriteGroup.add(g);\n\n    const animate = () => {\n      scene = new THREE.Scene();\n      // scene.background = new THREE.Color(0x111111);\n      camera.position.x = mouse.x/20;\n      camera.position.y = mouse.y/20 - window.scrollY;\n      camera.lookAt(0, -window.scrollY, 0);\n\n      // scene.add(camera);\n      \n      // scene.add( new THREE.AmbientLight(0x404040) );\n\n      // pointLight = new THREE.PointLight(0xffffff, 1);\n      // camera.add(pointLight);\n\n      if (background !== null) {\n        scene.add(background);\n      }\n\n      // for (let boxLine of boxLines) {\n      //   scene.add(boxLine);\n      // }\n\n      workGroup = new THREE.Object3D();\n      for (let i = 0; i < workN; i++) {\n        let work : Work | undefined = works[i];\n        if (work !== undefined) {\n          work.update();\n          let group : THREE.Object3D = work.getObject();\n          workGroup.add(group);\n        }\n      }\n      scene.add(workGroup);\n\n      // scene.add(spriteGroup);\n\n\n      //Post Process\n      var renderScene = new RenderPass( scene, camera );\n      var bloomPass = new UnrealBloomPass( new THREE.Vector2( window.innerWidth, window.innerHeight ), 1.5, 0.4, 0.85 );\n      bloomPass.threshold = params.bloomThreshold;\n      bloomPass.strength = params.bloomStrength;\n      bloomPass.radius = params.bloomRadius;\n\n      composer = new EffectComposer( renderer );\n      composer.addPass( renderScene );\n      // composer.addPass( bloomPass );\n\n      requestAnimationFrame(animate);\n\n      camera.layers.set(LAYER.PLANE);\n      renderer.render(scene, camera);\n      // renderer.clearDepth();\n      // camera.layers.set(LAYER.BLOOM);\n      // composer.render();\n    }\n    animate();\n\n    const onWindowResize = (e : UIEvent) => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n    window.addEventListener('resize', onWindowResize, false);\n\n    const onMouseMove = (e : MouseEvent) => {\n      e.preventDefault();\n      mouse.x = e.clientX - window.innerWidth/2;\n      mouse.y = -e.clientY + window.innerHeight/2;\n\n      for (let i = 0; i < workN; i++) {\n        let work : Work | undefined = works[i];\n        if (work !== undefined) {\n          let dist = Math.sqrt(\n            Math.pow(work.position.x - mouse.x, 2.0) +\n            Math.pow(work.position.y - mouse.y + window.scrollY, 2.0)\n          ) - work.getRadius();\n          if (dist < 0) {\n            work.expand();\n          } else {\n            work.shrink();\n          }\n        }\n      }\n    }\n    window.addEventListener('mousemove', onMouseMove, false);\n\n    const onClick = (e : MouseEvent) => {\n      if (!this.state.isDialogOpen) {\n        mouse.x = e.clientX - window.innerWidth/2;\n        mouse.y = -e.clientY + window.innerHeight/2;\n  \n        for (let i = 0; i < workN; i++) {\n          let work : Work | undefined = works[i];\n          if (work !== undefined) {\n            let dist = Math.sqrt(\n              Math.pow(work.position.x - mouse.x, 2.0) +\n              Math.pow(work.position.y - mouse.y + window.scrollY, 2.0)\n            ) - work.getRadius();\n            if (dist < 0) {\n              this.setState((prevState) => {\n                return {\n                  isDialogOpen : true,\n                  dialogContent : i,\n                  workBoxHeight : prevState.workBoxHeight\n                }\n              })\n            }\n          }\n        }\n      }\n    }\n    window.addEventListener('click', onClick, false);\n  }\n}\n\nclass wonderLine {\n  eps : number = 0.0001;\n  center : THREE.Vector2;\n  color : number;\n  theta: number;\n  r : number;\n  points : THREE.Vector3[] = [];\n  mvR : boolean;\n  dr : number = 0;\n  dtheta : number = 0;\n  rev : number = (Math.random() > 0.5)?-1:1;\n  alive: boolean = true;\n  constructor(center : THREE.Vector2, color: number) {\n    this.center = center;\n    this.color = color;\n    this.theta = Math.PI*2*Math.random();\n    this.r = 0;\n    this.points.push(new THREE.Vector3(this.center.x, this.center.y, 0));\n    this.mvR = true;\n    this.dr = 0.5 + Math.random();\n  }\n  update() : void {\n    if (!this.alive) {\n      return;\n    } else {\n      if (this.r > 50) {\n        this.alive = false;\n      }\n    }\n    if (this.mvR) {\n      if (this.dr <= this.eps) {\n        this.mvR = !this.mvR;\n        this.dtheta = Math.PI/8 + Math.PI*Math.random();\n      } else {\n        let d = Math.min(this.dr, 0.2);\n        this.dr -= d;\n        this.r += d;\n        this.points.push(new THREE.Vector3(\n          this.center.x + this.r*Math.cos(this.theta), \n          this.center.y + this.r*Math.sin(this.theta), \n          0));\n      }\n    } else {\n      if (this.dtheta <= this.eps) {\n        this.mvR = !this.mvR;\n        this.dr = 0.5 + Math.random();\n      } else {\n        let d = Math.min(this.dtheta, Math.PI/100 * this.r);\n        this.dtheta -= d;\n        this.theta += d*this.rev;\n        this.points.push(new THREE.Vector3(\n          this.center.x + this.r*Math.cos(this.theta), \n          this.center.y + this.r*Math.sin(this.theta), \n          0));\n      }\n    }\n  }\n  getLine() : THREE.Line {\n    let geometry : THREE.BufferGeometry = new THREE.BufferGeometry().setFromPoints(this.points);\n    let material : THREE.Material = new THREE.LineBasicMaterial( {color: this.color} );\n    let line : THREE.Line = new THREE.Line(geometry, material);\n    return line\n  }\n}\n\nclass Work {\n  static SCALE_MAX : number = 1.2;\n  static SCALE_MIN : number = 1;\n  texture : THREE.Texture | undefined;\n  textureCircle : THREE.Mesh | undefined;\n  backCircle : THREE.Line;\n  frontCircle : THREE.Object3D;\n  backDiff : THREE.Vector3;\n  position : THREE.Vector3 = new THREE.Vector3(0,0,0);\n  defaultRadius: number;\n  scale_t : number = 0; //from 0, to 1\n  constructor(src : string, position : THREE.Vector3, radius : number, color: number) {\n    //position\n    this.setPosition(position);\n  \n    //set texture circle\n    this.defaultRadius = radius;\n    {\n      new THREE.TextureLoader().load(src, (tex) => {\n        let geo : THREE.CircleGeometry = new THREE.CircleGeometry(radius, 60);\n        let mat : THREE.MeshBasicMaterial = new THREE.MeshBasicMaterial( {map: tex } );\n        this.texture = tex;\n        this.textureCircle = new THREE.Mesh( geo, mat );\n      })\n    }\n\n    //set back circle\n    {\n      let arcGen : THREE.EllipseCurve = new THREE.EllipseCurve(\n        0, 0,\n        radius+30, radius+30,\n        0, Math.PI*2,\n        false,\n        0\n      );\n      let point2D : THREE.Vector2[] = arcGen.getPoints(60);\n      let point3D : THREE.Vector3[] = [];\n      for (let p of point2D) {\n        point3D.push(new THREE.Vector3(p.x, p.y, -5));\n      }\n      let geo : THREE.BufferGeometry = new THREE.BufferGeometry().setFromPoints(point3D);\n      let mat : THREE.Material = new THREE.LineBasicMaterial( {color: color} );\n      this.backCircle = new THREE.Line( geo, mat );\n      this.backCircle.layers.set(LAYER.PLANE);\n      // this.backDiff = new THREE.Vector3(10*(Math.random()*2-1), 10*(Math.random()*2-1), -10);\n      this.backDiff = new THREE.Vector3(0,0,0);\n    }\n\n    //set front circle\n    {\n      let obj : THREE.Object3D = new THREE.Object3D();\n      let arcGen : THREE.EllipseCurve = new THREE.EllipseCurve(\n        0, 0,\n        radius+10, radius+10,\n        0, 2*Math.PI,\n        false,\n        0\n      );\n      let point2D : THREE.Vector2[] = arcGen.getPoints(60);\n      let point3D : THREE.Vector3[] = [];\n      for (let p of point2D) {\n        point3D.push(new THREE.Vector3(p.x, p.y, 0));\n      }\n      let geo : THREE.BufferGeometry = new THREE.BufferGeometry().setFromPoints(point3D);\n      let mat : THREE.Material = new THREE.LineBasicMaterial( {color: color} );\n      let arc : THREE.Line = new THREE.Line( geo, mat );\n      obj.add(arc);\n      let div = 60;\n      for (let i = 0; i < div; i++) {\n        let dr = (i%5==0)?radius/16:radius/32;\n        let points : THREE.Vector3[] = [\n          new THREE.Vector3((radius-dr+10)*Math.cos(i*2*Math.PI/div), (radius-dr+10)*Math.sin(i*2*Math.PI/div), 0),\n          new THREE.Vector3((radius+dr+10)*Math.cos(i*2*Math.PI/div), (radius+dr+10)*Math.sin(i*2*Math.PI/div), 0)\n        ];\n        geo = new THREE.BufferGeometry().setFromPoints(points);\n        let line : THREE.Line = new THREE.Line( geo, mat );\n        obj.add(line);\n      }\n      this.frontCircle = obj;\n      this.frontCircle.layers.set(LAYER.PLANE);\n    }\n  }\n  getTextureCircle() : THREE.Mesh | null {\n    if (this.textureCircle !== undefined) {\n      this.textureCircle.position.x = this.position.x;\n      this.textureCircle.position.y = this.position.y;\n      this.textureCircle.position.z = this.position.z;\n      this.textureCircle.scale.x = this.getTextureScale();\n      this.textureCircle.scale.y = this.getTextureScale();\n      return this.textureCircle;\n    } else {\n      return null;\n    }\n  }\n  getBackCircle() : THREE.Line {\n    this.backCircle.position.x = this.position.x + this.backDiff.x;\n    this.backCircle.position.y = this.position.y + this.backDiff.y;\n    this.backCircle.position.z = this.position.z + this.backDiff.z+10;\n    this.backCircle.scale.x = this.getCircleScale();\n    this.backCircle.scale.y = this.getCircleScale();\n    return this.backCircle;\n  }\n  getFrontCircle() : THREE.Object3D {\n    this.frontCircle.position.x = this.position.x;\n    this.frontCircle.position.y = this.position.y;\n    this.frontCircle.position.z = this.position.z+20;\n    this.frontCircle.scale.x = this.getCircleScale();\n    this.frontCircle.scale.y = this.getCircleScale();\n    return this.frontCircle;\n  }\n  getObject() : THREE.Object3D {\n    let group : THREE.Object3D = new THREE.Object3D();\n    let mesh : THREE.Mesh | null = this.getTextureCircle();\n    if (mesh !== null) {\n      group.add(mesh);\n    }\n    group.add(this.getFrontCircle());\n    group.add(this.getBackCircle());\n    return group;\n  }\n  setPosition(position : THREE.Vector3) {\n    this.position = position;\n  }\n  getTextureScale() : number {\n    return 1 - 0.05 * Math.pow(this.scale_t, 1.5);\n  }\n  getCircleScale() : number {\n    return 1 + 0.1 * Math.pow(this.scale_t, 1.5);\n  }\n  getRadius() : number {\n    return this.defaultRadius * this.getTextureScale();\n  }\n  expand() {\n    if (this.scale_t <= 1) {\n      this.scale_t += Math.min(0.05, 1 - this.scale_t);\n    } else {\n      this.scale_t = 1;\n    }\n  }\n  shrink() {\n    if (this.scale_t >= 0) {\n      this.scale_t -= Math.min(0.05, this.scale_t);\n    } else {\n      this.scale_t = 0;\n    }\n  }\n  update() {\n    this.frontCircle.rotateZ(Math.PI/2000);\n    this.backCircle.rotateZ(-Math.PI/100);\n  }\n}\n\nexport default Content;","import React from 'react';\nimport './App.css';\n// import Text from './Text';\n// import Loading from './Loading';\nimport Content from './Content';\n// import Background from './Background';\n\ninterface AppState {\n  boxes : HTMLElement[]\n  scrollY : number\n}\n\nclass App extends React.Component <{}, AppState> {\n  constructor() {\n    super({});\n    this.state = {\n      boxes: [],\n      scrollY : 0\n    };\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <Content />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}